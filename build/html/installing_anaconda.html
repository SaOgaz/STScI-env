

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Installing Anaconda and AstroConda &mdash; STScI-env 0.1.0 documentation</title>
  

  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  

  
    <link rel="top" title="STScI-env 0.1.0 documentation" href="index.html"/>
        <link rel="next" title="Installing Anaconda On Linux Servers" href="anaconda_linux_servers.html"/>
        <link rel="prev" title="Bash Setup" href="bash_setup.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index.html" class="icon icon-home"> STScI-env
          

          
            
            <img src="_static/stsci_logo.png" class="logo" />
          
          </a>

          
            
            
              <div class="version">
                0.1.0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="bash_setup.html">Bash Setup</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Installing Anaconda and AstroConda</a><ul class="simple">
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="anaconda_linux_servers.html">Installing Anaconda On Linux Servers</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index.html">STScI-env</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          

 



<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index.html">Docs</a> &raquo;</li>
      
    <li>Installing Anaconda and AstroConda</li>
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="_sources/installing_anaconda.txt" rel="nofollow"> View page source</a>
          
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="installing-anaconda-and-astroconda">
<h1>Installing Anaconda and AstroConda<a class="headerlink" href="#installing-anaconda-and-astroconda" title="Permalink to this headline">¶</a></h1>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">If you already have <code class="docutils literal"><span class="pre">Anaconda</span></code> on your machine and are familiar with it, you can skip ahead to Step 3.</p>
</div>
<div class="section" id="step-1-install">
<h2>Step 1: Install<a class="headerlink" href="#step-1-install" title="Permalink to this headline">¶</a></h2>
<p>There are several flavors of Anaconda for download. Anaconda contains the full <code class="docutils literal"><span class="pre">anaconda</span></code> software suite, while Miniconda contains only Conda and Python.  You also have the choice of Python 3 or Python 2.7 as your default Python version.  Please note, you can still access Python 3 from the Anaconda Python 2.7 version, and vice versa.  This just sets up your default to be one or the other.  Further details and installation instructions are available on the <a class="reference external" href="https://www.continuum.io/downloads">Anaconda webpage</a>.</p>
<p>As previously mentioned, Anaconda works with the <code class="docutils literal"><span class="pre">bash</span></code> shell, so please make sure you are running install commands, etc. in a <code class="docutils literal"><span class="pre">bash</span></code> environment.  To do this before you have switched to <code class="docutils literal"><span class="pre">bash</span></code> as your default terminal, please use</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>bash -l
</pre></div>
</div>
</div>
<div class="section" id="step-2-make-sure-anaconda-was-set-up-correctly">
<h2>Step 2: Make sure Anaconda was set up correctly<a class="headerlink" href="#step-2-make-sure-anaconda-was-set-up-correctly" title="Permalink to this headline">¶</a></h2>
<p>To test that your <code class="docutils literal"><span class="pre">PATH</span></code> variable was correctly set for Anaconda after installation, check for the following line in your <code class="docutils literal"><span class="pre">~/.bashrc</span></code> file. It should be similar to the following:</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>Mac:
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;</span><span class="nv">$HOME</span><span class="s2">/anaconda3/bin:</span><span class="nv">$PATH</span><span class="s2">&quot;</span>

Linux:
<span class="nb">export</span> <span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;/user/username/anaconda2/bin&quot;</span>
</pre></div>
</div>
<p>If this line is missing please add it, making sure to use your Anaconda folder name. This varies depending on which version of Anaconda/Miniconda you downloaded. The default install location of Anaconda/Miniconda is in your home directory.  So if you’ve run the Anaconda/Miniconda install with the default settings you should now see a directory similar to this in your home directory: <code class="docutils literal"><span class="pre">~/anaconda2</span></code> (If you grabbed Anaconda2), <code class="docutils literal"><span class="pre">~/miniconda3</span></code> (if you grabbed Miniconda3), etc.</p>
</div>
<div class="section" id="let-s-talk-about-conda-environments">
<h2>Let&#8217;s talk about Conda environments...<a class="headerlink" href="#let-s-talk-about-conda-environments" title="Permalink to this headline">¶</a></h2>
<p>Creating and switching Conda environments is just like switching <code class="docutils literal"><span class="pre">Ureka</span></code> environments, but <em>even better</em>!  We’ll cover it in a nutshell here, but for full details please see the <a class="reference external" href="http://conda.pydata.org/docs/using/envs.html">Anaconda documentation</a>.  What so much better about it, you might ask?  Well, Conda environments give you complete freedom to:</p>
<ul class="simple">
<li>Make as many different custom environments as you want</li>
<li>Use different versions of different packages in each environment</li>
<li>You decide when to update packages</li>
<li>Can share your environment setup easily</li>
</ul>
<p>Conda environments give you all the freedom to pick and choose what versions and which packages are included in that environment, without any of the hassle of having to manually install everything.   It also does a great job of keeping all your different environments separate from each other.  You can use Python 2.7 and an older version of <code class="docutils literal"><span class="pre">Numpy</span></code> in one environment, and another where you’re using Python 3 and the cutting edge version of your favorite Python libraries.  This makes creating a testing environment extremely easy.  Want that new <code class="docutils literal"><span class="pre">Astropy</span></code> function but not sure if that version of <code class="docutils literal"><span class="pre">Astropy</span></code> will break other parts of your code? Just make a new environment with the new <code class="docutils literal"><span class="pre">Astropy</span></code> version to test with.  You can still keep your working environment just where you left it.  Another great benefit is the ability to share an exact copy of your environment with others.</p>
<p>So how do you make a new Conda environment? This can be done in two simple statements.  To make a new environment just use the following commands:</p>
<p><strong>Example 1:</strong></p>
<p>This installs a base version of a new environment.  Containing just the basic Python libraries.  Here we’re specifying to use Python 2 (2.7).</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>conda create -n myenvironment <span class="nv">python</span><span class="o">=</span>2
</pre></div>
</div>
<p><strong>Example 2:</strong></p>
<p>Here we’re creating a new environment that will be populated with the basic Python libraries and adding in the Python <code class="docutils literal"><span class="pre">bokeh</span></code> library.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>conda create -n bokehenv <span class="nv">python</span><span class="o">=</span><span class="m">2</span> bokeh
</pre></div>
</div>
<p><strong>Example 3:</strong></p>
<p>Alternatively, I could have omitted <code class="docutils literal"><span class="pre">bokeh</span></code> as an argument, or any specific packages, and populated my environment manually.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>conda create -n bokehenv
<span class="nb">source</span> activate bokehenv
conda install bokeh
</pre></div>
</div>
<p><strong>Example 4:</strong></p>
<p>It is also possible to install packages into a named environment without the need to activate it first.  The <code class="docutils literal"><span class="pre">bokeh</span></code> environment must already exist for this work</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>conda install -n bokehenv bokeh
<span class="nb">source</span> activate bokehenv
</pre></div>
</div>
<p>You’ll see these commands again as you walk through the AstroConda installation.</p>
</div>
<div class="section" id="step-3-get-astroconda">
<h2>Step 3: Get AstroConda<a class="headerlink" href="#step-3-get-astroconda" title="Permalink to this headline">¶</a></h2>
<p>AstroConda is a package repository that is built to hook into the Anaconda distribution.  You can think of Anaconda (using Conda) as your environment manager, and AstroConda as an extra repository of packages and software (called a “channel” in Conda).  It contains many of the tools that were built into <code class="docutils literal"><span class="pre">Ureka</span></code>.  For more information on the AstroConda packages please see the <a class="reference external" href="http://astroconda.readthedocs.io/en/latest/installation.html">AstroConda doc page</a>. You will also want to reference this page if you need to include <code class="docutils literal"><span class="pre">iraf</span></code> in your AstroConda install.</p>
<p>The next step is to add the <code class="docutils literal"><span class="pre">astroconda</span></code> channel.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>conda config --add channels http://ssb.stsci.edu/astroconda
</pre></div>
</div>
<p>Now we will create a new environment that contains AstroConda&#8217;s <code class="docutils literal"><span class="pre">stsci</span></code> metapackage</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>conda create -n astroconda stsci
</pre></div>
</div>
<p>and activate this new environment.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span><span class="nb">source</span> activate astroconda
</pre></div>
</div>
<p>Make sure you are installing the <code class="docutils literal"><span class="pre">stsci</span></code> metapackage into a new environment and not your root Anaconda environment.  If this has happened, please see the <a class="reference external" href="http://astroconda.readthedocs.io/en/latest/faq.html#i-installed-astroconda-into-my-anaconda-root-environment-what-now">AstroConda FAQ page</a> for instructions.</p>
</div>
<div class="section" id="step-3b-add-the-astropy-channel">
<h2>Step 3B: Add the Astropy channel<a class="headerlink" href="#step-3b-add-the-astropy-channel" title="Permalink to this headline">¶</a></h2>
<p>The Astropy Project also has a Anaconda channel which contains all of the <code class="docutils literal"><span class="pre">astropy</span></code> affiliated packages.  While some of these are already included in <code class="docutils literal"><span class="pre">astroconda</span></code>, if you think you might want some that aren’t you can use the following command</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>conda config --add channels astropy
</pre></div>
</div>
<p>and you now have the <code class="docutils literal"><span class="pre">astropy</span></code> channel included by default.</p>
</div>
<div class="section" id="step-4-quick-test-to-see-if-your-setup-was-succesful">
<h2>Step 4: Quick test to see if your setup was succesful<a class="headerlink" href="#step-4-quick-test-to-see-if-your-setup-was-succesful" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For instructions on how to keep your AstroConda package updated, please see the <a class="reference external" href="http://astroconda.readthedocs.io/en/latest/updating.html">AstroConda docs</a>.</p>
</div>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For a easy to use Conda reference sheet the Anaconda website has a helpful <a class="reference external" href="http://conda.pydata.org/docs/using/cheatsheet.html">Conda cheat sheet</a>, or you can pick up a hardcopy right outside the IT helpdesk room in Muller 330.</p>
</div>
<p>Were going to simulate a fresh new bash shell for testing, so open a new terminal window and use the following commands.  You can start from a <code class="docutils literal"><span class="pre">tcsh</span></code> terminal.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span>/grp/hst/ssb/blackhole/interactive.sh
<span class="nb">source</span> ~/.bash_profile
</pre></div>
</div>
<p>If successful, the PS1 variable, responsible for controlling the look and feel of your shell prompt, will be reset to the system default; often <code class="docutils literal"><span class="pre">[user&#64;host:</span> <span class="pre">directory]$</span></code>. From here we will test Anaconda and your AstroConda install.</p>
<div class="highlight-sh"><div class="highlight"><pre><span></span><span class="nb">source</span> activate astroconda
which python
</pre></div>
</div>
<p><code class="docutils literal"><span class="pre">which</span> <span class="pre">python</span></code> should return <code class="docutils literal"><span class="pre">/path/to/astroconda/bin/python</span></code>, where <code class="docutils literal"><span class="pre">/path/to/</span></code> will be the path to your Anaconda installation. If this test returns unexpcted results, you can contact <a class="reference external" href="mailto:support&#37;&#52;&#48;stsci&#46;edu">support<span>&#64;</span>stsci<span>&#46;</span>edu</a> for assistance.</p>
</div>
</div>


           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="anaconda_linux_servers.html" class="btn btn-neutral float-right" title="Installing Anaconda On Linux Servers" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="bash_setup.html" class="btn btn-neutral" title="Bash Setup" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Space Telescope Science Institute.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.1.0',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>